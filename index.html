<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <button class="rock">rock</button>
    <button class="paper">paper</button>
    <button class="scissors">scissors</button>

    <div id="result"></div>
    <p id="player"></p>
    <p id="computer"></p>

    <script>
        const buttons = document.querySelectorAll('button');
        const resultDiv = document.querySelector('#result');
        const winnerText = document.createElement('p');
        const playerTextScore = document.getElementById('player');
        const computerTextScore = document.getElementById('computer');

        let playerScore = 0;
        let computerScore = 0;
        

        buttons.forEach((button) => {
            button.addEventListener('click', function(e) {
                winnerText.innerText ='';
                winnerText.innerText =gameRound(button.innerHTML, computerPlay());
                resultDiv.appendChild(winnerText);
                playerTextScore.innerText = `Player: ${playerScore}`;
                computerTextScore.innerText = `Computer: ${computerScore}`;
                if (playerScore === 5){
                    alert('Player won!');
                    setScoreToZero();
                }
                else if(computerScore === 5) {
                    alert('Computer won!')
                    setScoreToZero();
                }
            })
        });

        function setScoreToZero(){
            playerScore = 0;
            computerScore = 0;
            playerTextScore.innerText = `Player: ${playerScore}`;
            computerTextScore.innerText = `Computer: ${computerScore}`;
        }

        function computerPlay(){
            var random = Math.floor(Math.random() * 3);
            if (random === 1) {
                return 'rock';
            }
            else if (random === 2){
                return 'paper'
            }
            else {
                return 'scissors'
            }
        }

        function gameRound(player, computer){
            player = player.toLowerCase();

            if (player == computer){
                return 'It\s a draw!';
            } else if ((player =='rock' && computer =='scissors')
            || (player =='paper' && computer == 'rock') || 
            (player == 'scissors' && computer == 'paper')){
                playerScore += 1;
                return `Player wins! ${player} beats ${computer}!`;
            }
            else {
                computerScore += 1;
                return `Computer won! ${computer} beats ${player}`;
            }
        }

    </script>
</body>
</html>